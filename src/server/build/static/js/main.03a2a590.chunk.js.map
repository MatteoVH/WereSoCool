{"version":3,"sources":["composer/theme.js","composer/Components.tsx","composer/Compose.tsx","composer/mode.js","composer/template.js","composer/utils.ts","settings.ts","Data.tsx","Sound.tsx","Start.tsx","Renderer.tsx","Shaders.tsx","Play.tsx","Paths.tsx","serviceWorker.ts","index.tsx"],"names":["module","brace__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","brace__WEBPACK_IMPORTED_MODULE_0___default","n","ace","define","require","exports","isDark","cssClass","cssText","importCssString","m","State","Title","styled","h1","_templateObject","SubTitle","p","_templateObject2","StateText","_templateObject3","props","color","Space","div","_templateObject4","VimBox","_templateObject5","VimText","label","_templateObject6","CheckBox","input","_templateObject7","ButtonBox","_templateObject8","Button","button","_templateObject9","TopBox","_templateObject10","CustomHighlightRules","_window$ace$acequire$","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","$rules","start","token","regex","inherits","window","acequire","TextHighlightRules","WSCMode","_this2","HighlightRules","lineCommentStart","getNextLineIndent","state","line","tab","indent","$getIndent","tokens","getTokenizer","getLineTokens","length","type","match","Mode","template","playNewAudio","audioCtx","data","setSource","setGainNode","l_buffer","Float32Array","r_buffer","s","createBufferSource","buffer","createBuffer","sampleRate","copyToChannel","g","GainNode","connect","destination","fadeOutSource","source","gainNode","gain","exponentialRampToValueAtTime","currentTime","stop","displayError","error","n_lines","renderSpace","setMarkers","makeMarker","column","editor","gotoLine","startRow","startCol","endRow","endCol","className","Settings","backend","BACKEND_RENDER_URL","concat","customMode","AudioContext","Compose","_useState","useState","Cool","_useState2","slicedToArray","setState","_useState3","_useState4","save","setSave","_useState5","_useState6","vim","setVim","_useState7","_useState8","setRenderSpace","_useState9","_useState10","language","setLanguage","_useState11","_useState12","render","setRender","_useState13","_useState14","node","setNode","_useState15","_useState16","sourceNode1","setSourceNode1","_useState17","_useState18","sourceNode2","setSourceNode2","_useState19","_useState20","gainNode1","setGainNode1","_useState21","_useState22","gainNode2","setGainNode2","_useState23","_useState24","markers","gainNodes","setGainNodes","sources","setSources","useEffect","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","Rendering","axios","post","sent","t0","response_type","localStorage","setItem","buffers","abrupt","split","console","log","t1","apply","arguments","submit","getSession","setMode","setTheme","stored","getItem","getStoredLanguage","react_default","createElement","onClick","name","checked","onChange","lib_default","focus","ref","el","placeholder","mode","theme","keyboardHandler","value","l","fontSize","showPrintMargin","showGutter","highlightActiveLine","setOptions","showLineNumbers","tabSize","commands","bindKey","win","mac","exec","style","height","width","marginLeft","Data","events","readJson","song","jsonPath","get","ops","_x","getPoints","go","points","point","t","push","jsonData","Sound","audio","fadeOut","volume","setTimeout","pause","play","canPlay","duration","audioPath","Math","random","Audio","Start","ready","PlayButton","startAnimation","PlayText","renderStartButton","React","Component","Start_templateObject","Start_templateObject2","Controls","THREE","timeMul","timeOffset","Renderer","scene","camera","renderer","geometry","container","controls","id","last","Date","now","animate","tweenCamera","objectSpread","renderPoints","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","object","createObject","add","err","return","TWEEN","position","to","onUpdate","z","_object","target","x","innerWidth","y","innerHeight","Start_Start","setUpThreeJS","addEventListener","updateDimensions","bind","_ref2","_callee2","e","_context2","_this3","code","preventDefault","getData","autoplay","cancelAnimationFrame","removeEventListener","_ref3","_callee4","_context4","_this4","_x2","aspect","updateProjectionMatrix","setSize","background","setupScene","lookAt","set","update","setPixelRatio","devicePixelRatio","appendChild","domElement","requestAnimationFrame","uniforms","colorA","voice","colorB","ta","material","fragmentShader","vertexShader","time","scale","exp","calculateXPos","calculateYPos","calculateZPos","tweenObject","o","scale_z","easing","Sinusoidal","Out","Play_templateObject","Play_templateObject2","SongSelectDropDown","Play_templateObject3","Select","select","Play_templateObject4","Play","useParams","setSong","songList","setSongList","history","useHistory","process","LOCAL","ws","useRef","WebSocket","current","onopen","send","onmessage","event","updateSong","close","ReactDOM","unmountComponentAtNode","Renderer_Renderer","fetchData","url","songs","map","key","songSelect","Paths","react","react_router_dom","react_router","path","children","composer_Compose","src_Play","from","Boolean","location","hostname","src_Paths","document","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"8HAAA,SAAAA,GAAA,IAAAC,EAAAC,EAAA,IAAAC,EAAAD,EAAAE,EAAAH,GAEAI,IAAIC,OAAO,gBAAiB,CAAC,UAAW,UAAW,SAAU,eAAgB,SAC3EC,EACAC,EACAR,GAEAQ,EAAQC,QAAS,EACjBD,EAAQE,SAAW,gBACnBF,EAAQG,QAEN,4rDAqGQJ,EAAQ,cACdK,gBAAgBJ,EAAQG,QAASH,EAAQE,YAG7CL,IAAIE,QAAQ,CAAC,iBAAkB,SAASM,GACa,iBAAXL,SAAuBR,IAC7DA,EAAOQ,QAAUK,sjECpHhB,IC6BFC,ED7BQC,EAAQC,IAAOC,GAAVC,KAQLC,EAAWH,IAAOI,EAAVC,KAORC,EAAYN,IAAOI,EAAVG,IAGX,SAAAC,GAAK,OAAIA,EAAMC,QASbC,EAAQV,IAAOW,IAAVC,KAKLC,EAASb,IAAOW,IAAVG,KAONC,EAAUf,IAAOgB,MAAVC,KAQPC,EAAWlB,IAAOmB,MAAVC,KAKRC,EAAYrB,IAAOW,IAAVW,KAOTC,EAASvB,IAAOwB,OAAVC,KAgBNC,EAAS1B,IAAOW,IAAVgB,KE3ENC,SAAb,SAAAC,GAEE,SAAAD,IAAc,IAAAE,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACZE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,QACKI,OAAS,CACZC,MAAO,CACL,CACEC,MAAO,UACPC,MAAO,SAET,CACED,MAAO,SACPC,MAAO,SAET,CACED,MAAO,OACPC,MAAO,OAET,CACED,MAAO,QACPC,MAAO,eAET,CACED,MAAO,QACPC,MAAO,KAET,CACED,MAAO,UACPC,MAAO,KAET,CACED,MAAO,QACPC,MAAO,OAET,CACED,MAAO,UACPC,MAAO,WAET,CACED,MAAO,QACPC,MAAO,WAET,CACED,MAAO,OACPC,MAAO,OAGT,CACED,MAAO,UACPC,MAAO,KAGT,CACED,MAAO,QACPC,MAAO,KAET,CACED,MAAO,MACPC,MAAO,OAET,CACED,MAAO,wBACPC,MAAO,gCAET,CACED,MAAO,SACPC,MAAO,UAET,CACED,MAAO,kBACPC,MAAO,wBAGT,CACED,MAAO,aACPC,MAAO,KAGT,CACED,MAAO,YACPC,MAAO,oCAET,CACED,MAAO,SACPC,MAAO,WAlFDV,EAFhB,OAAAC,OAAAU,EAAA,EAAAV,CAAAH,EAAAC,GAAAD,EAAA,CAA0Cc,OAAOrD,IAAIsD,SAAS,iCAC3DC,qBA0FkBC,cACnB,SAAAA,IAAc,IAAAC,EAAA,OAAAf,OAAAC,EAAA,EAAAD,CAAAE,KAAAY,IACZC,EAAAf,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAc,GAAAT,KAAAH,QACKc,eAAiBnB,EACtBkB,EAAKE,iBAAmB,KAExBF,EAAKG,kBAAoB,SAASC,EAAOC,EAAMC,GAC7C,IAAIC,EAASpB,KAAKqB,WAAWH,GAGzBI,EADgBtB,KAAKuB,eAAeC,cAAcN,EAAMD,GACjCK,OAE3B,GAAIA,EAAOG,QAA6C,YAAnCH,EAAOA,EAAOG,OAAS,GAAGC,KAC7C,OAAON,EAGK,UAAVH,IACUC,EAAKS,MAAM,kBAErBP,GAAUD,IAId,OAAOC,GAtBGP,6BADqBJ,OAAOrD,IAAIsD,SAAS,iBAAiBkB,MCxE3DC,EArBD,4MCIDC,EAAe,SAC1BC,EACAC,EACAC,EACAC,GAEA,IAAMC,EAAW,IAAIC,aAAaJ,EAAKG,UACjCE,EAAW,IAAID,aAAaJ,EAAKK,UAEjCC,EAAIP,EAASQ,qBACbC,EAAST,EAASU,aAAa,EAAGN,EAASV,OAAQM,EAASW,YAClEF,EAAOG,cAAcR,EAAU,GAC/BK,EAAOG,cAAcN,EAAU,GAE/B,IAAMO,EAAI,IAAIC,SAASd,GACvBa,EAAEE,QAAQf,EAASgB,aACnBT,EAAEE,OAASA,EACXF,EAAEQ,QAAQF,GACVN,EAAEjC,QACF4B,EAAUK,GACVJ,EAAYU,IAGDI,EAAgB,SAC3BjB,EACAkB,EACAC,GAEID,IACFC,EAASC,KAAKC,6BAA6B,KAAQrB,EAASsB,YAAc,KAC1EJ,EAAOK,KAAKvB,EAASsB,YAAc,OAI1BE,EAAe,SAC1BC,EACAC,EACAC,EACAC,GAEAA,EAAW,CAACC,EAAWJ,EAAMtC,KAAMsC,EAAMK,OAAQJ,KACjDC,EAAYI,OAAOC,SAASP,EAAMtC,KAAMsC,EAAMK,SAGnCD,EAAa,SAAC1C,EAAc2C,EAAgBJ,GAEvD,MAAO,CACLO,SAFF9C,GAAQ,EAGN+C,SAAUJ,EACVK,OAAQT,EACRU,OAAQ,EACRzC,KAAM,OACN0C,UAAW,UClDAC,EAJE,CACfC,QAHsD,QJ0BlDC,qBAAkB,GAAAC,OAAMH,EAASC,QAAf,YAClBG,GAAa,IAAI7D,EAEjBmB,GAAW,IAAI2C,uBAEhB7G,+DAiLU8G,OA5Kf,WAAmB,IAAAC,EACSC,mBAAgBhH,EAAMiH,MAD/BC,EAAAjF,OAAAkF,EAAA,EAAAlF,CAAA8E,EAAA,GACV3D,EADU8D,EAAA,GACHE,EADGF,EAAA,GAAAG,EAEOL,oBAAkB,GAFzBM,EAAArF,OAAAkF,EAAA,EAAAlF,CAAAoF,EAAA,GAEVE,EAFUD,EAAA,GAEJE,EAFIF,EAAA,GAAAG,EAGKT,oBAAkB,GAHvBU,EAAAzF,OAAAkF,EAAA,EAAAlF,CAAAwF,EAAA,GAGVE,EAHUD,EAAA,GAGLE,EAHKF,EAAA,GAAAG,EAIqBb,qBAJrBc,EAAA7F,OAAAkF,EAAA,EAAAlF,CAAA4F,EAAA,GAIVhC,EAJUiC,EAAA,GAIGC,EAJHD,EAAA,GAAAE,EAKehB,mBAAiBhD,GALhCiE,EAAAhG,OAAAkF,EAAA,EAAAlF,CAAA+F,EAAA,GAKVE,EALUD,EAAA,GAKAE,EALAF,EAAA,GAAAG,EAOWpB,oBAAkB,GAP7BqB,EAAApG,OAAAkF,EAAA,EAAAlF,CAAAmG,EAAA,GAOVE,EAPUD,EAAA,GAOFE,EAPEF,EAAA,GAAAG,EASOxB,mBAAiB,GATxByB,EAAAxG,OAAAkF,EAAA,EAAAlF,CAAAuG,EAAA,GASVE,EATUD,EAAA,GASJE,EATIF,EAAA,GAAAG,EAUqB5B,mBAAuC,MAV5D6B,EAAA5G,OAAAkF,EAAA,EAAAlF,CAAA2G,EAAA,GAUVE,EAVUD,EAAA,GAUGE,GAVHF,EAAA,GAAAG,GAWqBhC,mBAAuC,MAX5DiC,GAAAhH,OAAAkF,EAAA,EAAAlF,CAAA+G,GAAA,GAWVE,GAXUD,GAAA,GAWGE,GAXHF,GAAA,GAAAG,GAaiBpC,mBAAmB,IAAIhC,SAASd,KAbjDmF,GAAApH,OAAAkF,EAAA,EAAAlF,CAAAmH,GAAA,GAaVE,GAbUD,GAAA,GAaCE,GAbDF,GAAA,GAAAG,GAciBxC,mBAAmB,IAAIhC,SAASd,KAdjDuF,GAAAxH,OAAAkF,EAAA,EAAAlF,CAAAuH,GAAA,GAcVE,GAdUD,GAAA,GAcCE,GAdDF,GAAA,GAAAG,GAea5C,mBAAoB,IAfjC6C,GAAA5H,OAAAkF,EAAA,EAAAlF,CAAA2H,GAAA,GAeVE,GAfUD,GAAA,GAeD/D,GAfC+D,GAAA,GAiBXE,GAAY,CAACT,GAAWI,IACxBM,GAAe,CAACT,GAAcI,IAE9BM,GAAU,CAACnB,EAAaI,IACxBgB,GAAa,CAACnB,GAAgBI,IAmFpC,OA1EAgB,oBAAU,YACI,eAAAC,EAAAnI,OAAAoI,EAAA,EAAApI,CAAAqI,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAArG,EAAAC,EAAAqG,EAAA/E,EAAAC,EAAA,OAAA0E,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACTxC,EADS,CAAAsC,EAAAE,KAAA,gBAEXhF,GAAW,IACX6C,GAASD,EAAO,GAAK,GAIftE,EAAY8F,GAAWxB,GACvBrE,EAAc2F,GAAatB,GAEjCvD,EAAcjB,GALK+F,IAASvB,EAAO,GAAK,GACnBqB,IAAWrB,EAAO,GAAK,IANjCkC,EAAAC,KAAA,EAaTzD,EAASpH,EAAM+K,WAbNH,EAAAE,KAAA,GAcYE,IAAMC,KAAKvE,EAAoB,CAAEwB,aAd7C,WAcLwC,EAdKE,EAAAM,MAeLrF,EAfK,CAAA+E,EAAAE,KAAA,SAAAF,EAAAO,GAgBCT,EAASvG,KAAKiH,cAhBfR,EAAAE,KAiBA,kBAjBAF,EAAAO,GAAA,GAqBA,gBArBAP,EAAAO,GAAA,2BAkBHE,aAAaC,QAAQ,WAAYpD,GACjCjE,EAAaC,GAAUwG,EAASvG,KAAKoH,QAASnH,EAAWC,GAnBtDuG,EAAAY,OAAA,2BAsBG7F,EAAQ+E,EAASvG,KAAKwB,MACtBC,EAAUsC,EAASuD,MAAM,MAAM7H,OACrC8B,EAAaC,EAAOC,EAASC,EAAaC,IAxBvC8E,EAAAY,OAAA,2BA2BHE,QAAQC,IAAI,+BACZD,QAAQC,IAAIjB,GA5BTE,EAAAY,OAAA,oBAAAZ,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAgB,GAAAhB,EAAA,SAiCTc,QAAQC,IAARf,EAAAgB,IAjCS,QAoCXxE,EAASpH,EAAMiH,MACfsB,GAAU,GArCC,yBAAAqC,EAAAnF,SAAAgF,EAAA,kBAAH,yBAAAL,EAAAyB,MAAA1J,KAAA2J,YAAA,EAyCZC,IACC,CAACzD,IAEJ6B,oBAAU,WACJtE,IACFA,EAAYI,OAAO+F,aAAaC,QAAQrF,IACxCf,EAAYI,OAAOiG,SAAS,mBAE7B,CAACrG,IAEJsE,oBAAU,YA3DgB,WACxB,IAAMgC,EAASd,aAAae,QAAQ,YAChCD,GACFhE,EAAYgE,GAyDdE,IACC,IAEHlC,oBAAU,WACJ5C,GACFC,GAAQ,IAET,CAACD,IAeF+E,EAAA/B,EAAAgC,cAAC3L,EAAD,KACE0L,EAAA/B,EAAAgC,cAACtM,EAAD,mBACAqM,EAAA/B,EAAAgC,cAAClM,EAAD,4DACAiM,EAAA/B,EAAAgC,cAAC3K,EAAD,KACE0K,EAAA/B,EAAAgC,cAAChL,EAAD,KACE+K,EAAA/B,EAAAgC,cAAC9K,EAAD,CAAQ+K,QAAS,kBAAMjE,GAAU,KAAjC,UACA+D,EAAA/B,EAAAgC,cAAC9K,EAAD,CAAQ+K,QAAS,WAlBvBrH,EAAcjB,GAAU+F,IAASvB,EAAO,GAAK,GAAIqB,IAAWrB,EAAO,GAAK,MAkBlE,QACA4D,EAAA/B,EAAAgC,cAhBY,WAClB,OAAInJ,IAAUpD,EAAM+K,UACXuB,EAAA/B,EAAAgC,cAAC/L,EAAD,kBAEA8L,EAAA/B,EAAAgC,cAAA,aAYH,OAEFD,EAAA/B,EAAAgC,cAACxL,EAAD,KACEuL,EAAA/B,EAAAgC,cAAC9K,EAAD,CAAQ+K,QAAS,kBAAMrE,EAAYnE,KAAnC,SACAsI,EAAA/B,EAAAgC,cAACtL,EAAD,KAAU0G,EAAM,OAAS,QACzB2E,EAAA/B,EAAAgC,cAACnL,EAAD,CACEqL,KAAK,MACL5I,KAAK,WACL6I,UAAS/E,EACTgF,SAAU,kBAAM/E,GAAQD,QAI9B2E,EAAA/B,EAAAgC,cAACK,EAAArC,EAAD,CACEsC,OAAO,EACPC,IAAK,SAAAC,GACHhF,EAAegF,IAEjBC,YAAY,aACZC,KAAK,SACLC,MAAM,SACNT,KAAK,YACLU,gBAAiBxF,EAAM,MAAQ,GAC/ByF,MAAOlF,EACPyE,SAAU,SAAAU,GAAC,OAAIlF,EAAYkF,IAC3BvD,QAASA,GACTwD,SAAU,GACVC,iBAAiB,EACjBC,YAAY,EACZC,qBAAqB,EACrBC,WAAY,CACVC,iBAAiB,EACjBC,QAAS,GAEXC,SAAU,CACR,CACEpB,KAAM,SACNqB,QAAS,CAAEC,IAAK,cAAeC,IAAK,eACpCC,KAAM,WACJ1F,GAAU,KAGd,CACEkE,KAAM,OACNqB,QAAS,CAAEC,IAAK,YAAaC,IAAK,aAClCC,KAAM,WACJzG,GAAQ,MAId0G,MAAO,CACLC,OAAQ,OACRC,MAAO,OACPC,WAAY,uCKvLDC,cAInB,SAAAA,IAAc,IAAAtM,EAAAG,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAAmM,GAAAnM,KAHPoM,YAGO,EAAApM,KAFPyB,YAEO,EAAAzB,KADP7C,OACO,EAAA6C,KAIPqM,SAJO,eAAApE,EAAAnI,OAAAoI,EAAA,EAAApI,CAAAqI,EAAAC,EAAAC,KAII,SAAAC,EAAOgE,GAAP,IAAAC,EAAAhE,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACV4D,EADU,GAAA/H,OACIH,EAASC,QADb,WAAAE,OAC8B8H,EAD9B,gBAAA7D,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGSE,IAAM2D,IAAID,GAHnB,cAGRhE,EAHQE,EAAAM,KAAAN,EAAAY,OAAA,SAIPd,EAASvG,MAJF,cAAAyG,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAAAA,EAAAY,OAAA,SAMP,CAAEoD,IAAK,GAAIhL,OAAQ,IANZ,yBAAAgH,EAAAnF,SAAAgF,EAAA,iBAJJ,gBAAAoE,GAAA,OAAAzE,EAAAyB,MAAA1J,KAAA2J,YAAA,GAAA3J,KAoBP2M,UAAY,SAACtJ,GAGlB,IAFA,IAAIuJ,GAAK,EACHC,EAAS,GACRD,GAAI,CACT,IAAME,EAAQjN,EAAKuM,OAAOvM,EAAK1C,GAC3B2P,GAASA,EAAMC,EAAI1J,GACrBwJ,EAAOG,KAAKF,GACZjN,EAAK1C,GAAK,GAEVyP,GAAK,EAGT,OAAOC,GA/BP7M,KAAK7C,EAAI,8FAaUmP,yFACItM,KAAKqM,SAASC,UAA/BW,SACNjN,KAAKoM,OAASa,EAASR,IACvBzM,KAAKyB,OAASwL,EAASxL,uHCrCNyL,GAEnB,SAAAA,EAAYZ,GAAc,IAAAzM,EAAAG,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAAkN,GAAAlN,KADlBmN,WACkB,EAAAnN,KAKnBoN,QAAU,WACXvN,EAAKsN,MAAME,OAAS,KACtBxN,EAAKsN,MAAME,QAAU,IACrBC,WAAWzN,EAAKuN,QAAS,IAEzBvN,EAAKsN,MAAMI,SAVWvN,KAanBwN,KAAO,WACZ3N,EAAKsN,MAAMK,QAdaxN,KAiBnBuN,MAAQ,WACb1N,EAAKsN,MAAMI,SAlBavN,KAqBnByN,QAAU,WACf,OAAO5N,EAAKsN,MAAMO,UArBlB,IAAMC,EAAS,GAAAnJ,OAAMH,EAASC,QAAf,WAAAE,OAAgC8H,EAAhC,SAAA9H,OAA4CoJ,KAAKC,UAChE7N,KAAKmN,MAAQ,IAAIW,MAAMH,6TCGNI,eACnB,SAAAA,EAAYxP,GAAe,OAAAuB,OAAAC,EAAA,EAAAD,CAAAE,KAAA+N,GAAAjO,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiO,GAAA5N,KAAAH,KACnBzB,qFAIN,OAAIyB,KAAKzB,MAAMiP,MAAQxN,KAAKzB,MAAMyP,WAChC,EACShO,KAAKzB,MAAMyP,MAElB7D,EAAA/B,EAAAgC,cAAC6D,GAAD,CAAY5D,QAASrK,KAAKzB,MAAM2P,eAAgB1P,MAAO,UACrD2L,EAAA/B,EAAAgC,cAAC+D,GAAD,cAKFhE,EAAA/B,EAAAgC,cAAC6D,GAAD,CAAYzP,MAAO,QACjB2L,EAAA/B,EAAAgC,cAAC+D,GAAD,gDAON,OAAOhE,EAAA/B,EAAAgC,cAAA,WAAMpK,KAAKoO,4BAxBaC,IAAMC,WA4BnCH,GAAWpQ,IAAOI,EAAVoQ,MAORN,GAAalQ,IAAOW,IAAV8P,KAEM,SAAAjQ,GAAK,OAAIA,EAAMC,QCtC/BiQ,GAAWnR,EAAQ,GAARA,CAAgCoR,IAY3CC,GAAU,IAEVC,GAAa,KAEEC,eAsBnB,SAAAA,EAAYtQ,GAAc,IAAAsB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6O,IACxBhP,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+O,GAAA1O,KAAAH,KAAMzB,KAXAuQ,WAUkB,EAAAjP,EATlBkP,YASkB,EAAAlP,EARlBmP,cAQkB,EAAAnP,EAPlBoP,cAOkB,EAAApP,EANlBqP,eAMkB,EAAArP,EALlBsP,cAKkB,EAAAtP,EAJlBkN,OAIkB,EAAAlN,EAHlBuP,QAGkB,EAAAvP,EAFlBmC,UAEkB,EAAAnC,EADlBsN,WACkB,EAAAtN,EA8BnBqO,eA9BmBpO,OAAAoI,EAAA,EAAApI,CAAAqI,EAAAC,EAAAC,KA8BF,SAAAC,IAAA,IAAA+G,EAAA,OAAAlH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,EAEpB7I,EAAKkN,EAAIuC,KAAKC,OACV1P,EAAKsN,MAHW,CAAA1E,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAIZ9I,EAAKsN,MAAMK,OAJC,OAMpB3N,EAAK2P,UACCH,EAAOxP,EAAKmC,KAAKoK,OAAOvM,EAAKmC,KAAKoK,OAAO3K,OAAS,GACxD5B,EAAK4P,YAAY5P,EAAKkP,OAAQlP,EAAKsP,SAAUE,EAAKtC,EAAGsC,EAAKnE,GAC1DrL,EAAKoF,SAALnF,OAAA4P,GAAA,EAAA5P,CAAA,GACKD,EAAKoB,MADV,CAEEuM,MAAM,KAXY/E,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,kCAAAA,EAAAnF,SAAAgF,EAAA,kBA9BEzI,EA8InB8P,aAAe,WACpB,IAAMtM,GAAeiM,KAAKC,MAAQ1P,EAAKkN,GAAK,IACtCF,EAAShN,EAAKmC,KAAK2K,UAAUtJ,GAFTuM,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAG1B,QAAAC,EAAAC,EAAoBpD,EAApBqD,OAAAC,cAAAP,GAAAI,EAAAC,EAAAtH,QAAAyH,MAAAR,GAAA,EAA4B,KAAjB9C,EAAiBkD,EAAA/E,MAC1B,GAAIpL,EAAKmC,KAAKoK,OAAO3K,OAAS,EAAG,CAC/B,IAAI4O,EACJA,EAASxQ,EAAKyQ,aAAaxD,GAC3BjN,EAAKiP,MAAMyB,IAAIF,KAPO,MAAAG,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAK,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAZ,EAAA,MAAAC,KA9IFjQ,EA+MnB4P,YAAc,SAACV,EAAiCI,EAAepC,EAAW7B,GAC/E,IAAIwF,SAAY,CACdC,SAAU,IAETC,GACC,CACED,SAAU9Q,EAAKmC,KAAKP,OAASkN,IAEZ,IAAnB9O,EAAKmC,KAAKP,QAEXoP,SAAS,WACR9B,EAAO4B,SAASG,EAAI9Q,KAAK+Q,QAAQJ,SAAW/B,GAC5CO,EAAS6B,OAAOF,EAAI9Q,KAAK+Q,QAAQJ,WAElCtQ,SA3NHR,EAAKkN,EAAI,EACTlN,EAAKqP,UAAY,KACjBrP,EAAKuP,GAAK,KACVvP,EAAKsN,MAAQ,KAEbtN,EAAKoB,MAAQ,CACXuM,MAAM,EACNQ,OAAO,GATenO,kFArBGoR,GAC3B,OAASA,EAAIxQ,OAAOyQ,iDAGOC,GAC3B,OAAW,EAAJA,EAAQ1Q,OAAO2Q,YAAc3Q,OAAO2Q,kDAGhBrE,EAAW7B,GACtC,OAAO6B,EAAI4B,GAAUC,GAbP,GAaoB1D,oDAyBpB,IAAArK,EAAAb,KACd,OACEmK,EAAA/B,EAAAgC,cAAA,WACED,EAAA/B,EAAAgC,cAACiH,GAAD,CACErD,MAAOhO,KAAKiB,MAAM+M,MAClBR,KAAMxN,KAAKiB,MAAMuM,KACjBU,eAAgBlO,KAAKkO,iBAEvB/D,EAAA/B,EAAAgC,cAAA,OACEO,IAAK,SAAAC,GACH/J,EAAKqO,UAAYtE,4KAwBzB5K,KAAKsR,eACLtR,KAAKiF,SAALnF,OAAA4P,GAAA,EAAA5P,CAAA,GACKE,KAAKiB,MADV,CAEE+M,OAAO,KAETvN,OAAO8Q,iBAAiB,SAAUvR,KAAKwR,iBAAiBC,KAAKzR,OAC7DS,OAAO8Q,iBAAiB,UAAxB,eAAAG,EAAA5R,OAAAoI,EAAA,EAAApI,CAAAqI,EAAAC,EAAAC,KAAmC,SAAAsJ,EAAMC,GAAN,OAAAzJ,EAAAC,EAAAI,KAAA,SAAAqJ,GAAA,cAAAA,EAAAnJ,KAAAmJ,EAAAlJ,MAAA,WAC7BmJ,EAAK7Q,MAAM+M,OAAU8D,EAAK7Q,MAAMuM,MAAmB,UAAXoE,EAAEG,KADb,CAAAF,EAAAlJ,KAAA,eAE/BiJ,EAAEI,iBAF6BH,EAAAlJ,KAAA,EAGzBmJ,EAAK5D,iBAHoB,wBAAA2D,EAAAvO,SAAAqO,MAAnC,gBAAAjF,GAAA,OAAAgF,EAAAhI,MAAA1J,KAAA2J,YAAA,aAMM3J,KAAKiS,QAAQjS,KAAKzB,MAAM+N,cACF,IAAxBtM,KAAKzB,MAAM2T,UACblS,KAAKkO,qRAKHlO,KAAKmN,OACPnN,KAAKmN,MAAMC,UAETpN,KAAKoP,IACP3O,OAAO0R,qBAAqBnS,KAAKoP,IAGnC3O,OAAO2R,oBAAoB,SAAUpS,KAAKwR,iBAAiBC,KAAKzR,OAChES,OAAO2R,oBAAoB,UAA3B,eAAAC,EAAAvS,OAAAoI,EAAA,EAAApI,CAAAqI,EAAAC,EAAAC,KAAsC,SAAAiK,EAAMV,GAAN,OAAAzJ,EAAAC,EAAAI,KAAA,SAAA+J,GAAA,cAAAA,EAAA7J,KAAA6J,EAAA5J,MAAA,WAChC6J,EAAKvR,MAAM+M,OAAUwE,EAAKvR,MAAMuM,MAAmB,UAAXoE,EAAEG,KADV,CAAAQ,EAAA5J,KAAA,eAElCiJ,EAAEI,iBAFgCO,EAAA5J,KAAA,EAG5B6J,EAAKtE,iBAHuB,wBAAAqE,EAAAjP,SAAAgP,MAAtC,gBAAAG,GAAA,OAAAJ,EAAA3I,MAAA1J,KAAA2J,YAAA,mJASA,IAAMsC,EAAQxL,OAAOyQ,WACflF,EAASvL,OAAO2Q,YAEtBpR,KAAK+O,OAAO2D,OAASzG,EAAQD,EAC7BhM,KAAK+O,OAAO4D,yBAEZ3S,KAAKgP,SAAS4D,QAAQ3G,EAAOD,GAAQ,wCAIrChM,KAAK8O,MAAM+D,WAAa,IAAInE,SAAY,gDAIxC1O,KAAK8O,MAAQ,IAAIJ,SACjB1O,KAAK8S,aACL9S,KAAKgP,SAAW,IAAIN,iBACpB1O,KAAK+O,OAAS,IAAIL,qBAAwB,GAAIjO,OAAOyQ,WAAazQ,OAAO2Q,YAAa,EAAG,KACzFpR,KAAKmP,SAAW,IAAIV,GAASzO,KAAK+O,OAAQ/O,KAAKkP,WAE/ClP,KAAK+O,OAAOgE,OAAO/S,KAAK8O,MAAM6B,UAC9B3Q,KAAK+O,OAAO4B,SAASqC,IAAI,EAAG,EAAG,GAC/BhT,KAAKmP,SAAS8D,SAEdjT,KAAKiP,SAAW,IAAIP,qBAAwB,GAAI,GAAI,IAEpD1O,KAAKgP,SAASkE,cAAczS,OAAO0S,kBACnCnT,KAAKgP,SAAS4D,QAAQnS,OAAOyQ,WAAYzQ,OAAO2Q,aAChDpR,KAAKgP,SAAS7I,OAAOnG,KAAK8O,MAAO9O,KAAK+O,QAClC/O,KAAKkP,WACPlP,KAAKkP,UAAUkE,YAAYpT,KAAKgP,SAASqE,8CAKvCrT,KAAKgC,KAAK7E,EAAI6C,KAAKgC,KAAKoK,OAAO3K,QACjCzB,KAAK2P,eAGP3P,KAAKmG,SACLnG,KAAKmP,SAAS8D,SAEdjT,KAAKgP,SAAS7I,OAAOnG,KAAK8O,MAAO9O,KAAK+O,QACtC/O,KAAKoP,GAAKkE,sBAAsBtT,KAAKwP,QAAQiC,KAAKzR,OAClD0Q,uDAIA1Q,KAAK+O,OAAO2D,OAASjS,OAAOyQ,WAAazQ,OAAO2Q,YAChDpR,KAAK+O,OAAO4D,yBACZ3S,KAAKgP,SAAS4D,QAAQnS,OAAOyQ,WAAYzQ,OAAO2Q,aAAa,2EAG1C9E,0EACnBtM,KAAKmN,MAAQ,IAAID,GAAMZ,GACvBtM,KAAKgC,KAAO,IAAImK,YACVnM,KAAKgC,KAAKiQ,QAAQ3F,2IAeNQ,GAClB,IACMyG,EAAW,CACfC,OAAQ,CAAE9R,KAAM,OAAQuJ,MAAO,IAAIyD,SAAa5B,EAAM2G,MAAQ,GAAM,WACpEC,OAAQ,CAAEhS,KAAM,OAAQuJ,MAAO,IAAIyD,SAAa5B,EAAM2G,MAAQ,GAAM,WACpEE,GAAI,CAAEjS,KAAM,IAAKuJ,MAJR,IAOL2I,EAAW,IAAIlF,kBAAqB,CACxCmF,eChNJ,unBDiNIN,WACAO,aCrLJ,6SDwLQzD,EAAS,IAAI3B,QAAW1O,KAAKiP,SAAU2E,GAEvCG,EAAOjH,EAAMC,EAAI4B,GAAUC,GAnMnB,GAmMgC9B,EAAM5B,EAC9C8I,EAAQpG,KAAKqG,IAAInH,EAAMgE,GAS7B,OARAT,EAAOM,SAASM,EAAIpC,EAASqF,cAAcpH,EAAMmE,GACjDZ,EAAOM,SAASQ,EAAItC,EAASsF,cAAcrH,EAAMqE,GACjDd,EAAOM,SAASG,EAAIjC,EAASuF,cAActH,EAAMC,EAAGD,EAAM5B,GAE1DmF,EAAO2D,MAAM/C,EAAI,KACjBZ,EAAO2D,MAAM7C,EAAI,KACjBd,EAAO2D,MAAMlD,EAAI,KACjB9Q,KAAKqU,YAAYhE,EAAQvD,EAAM5B,EAAG6I,EAAMC,GACjC3D,sCAGUiE,EAAepJ,EAAW6B,EAAWiH,GACtD,IAAItD,SAAY,CACdC,SAlNY,GAkNFzF,EACV8I,MAAO,IACPO,QAAS,IAER3D,GACC,CACED,SAAU,EACVqD,MAAO,EACPO,QAAa,EAAJrJ,GAEP,IAAJA,GAEDsJ,OAAO9D,UAAa+D,WAAWC,KAC/B7D,SAAS,WACRyD,EAAEN,MAAM/C,EAAI+C,EAAQhU,KAAK+Q,QAAQiD,MACjCM,EAAEN,MAAM7C,EAAI6C,EAAQhU,KAAK+Q,QAAQiD,MACjCM,EAAEN,MAAMlD,EAAI9Q,KAAK+Q,QAAQwD,QACzBD,EAAE3D,SAASG,EAAI/D,EAAI/M,KAAK+Q,QAAQJ,SAAe,EAAJzF,IAE5C7K,eAlO+BgO,IAAMC,kgBEd5C/E,QAAQC,IAAInF,EAASC,SAEPvG,IAAOC,GAAV2W,MAKU5W,IAAOW,IAAVkW,MALlB,IAWMC,GAAqB9W,IAAOW,IAAVoW,MAOlBC,GAAShX,IAAOiX,OAAVC,MAwCZ,IAuEeC,GAvEF,WAAM,IACX9F,EAAO+F,cAAP/F,GACDA,IAAIA,EAAK,IAFG,IAAAxK,EAIOC,mBAAiBuK,GAJxBrK,EAAAjF,OAAAkF,EAAA,EAAAlF,CAAA8E,EAAA,GAIV0H,EAJUvH,EAAA,GAIJqQ,EAJIrQ,EAAA,GAAAG,EAKeL,mBAAS,IALxBM,EAAArF,OAAAkF,EAAA,EAAAlF,CAAAoF,EAAA,GAKVmQ,EALUlQ,EAAA,GAKAmQ,EALAnQ,EAAA,GAAAG,EAMqBT,qBANrBU,EAAAzF,OAAAkF,EAAA,EAAAlF,CAAAwF,EAAA,GAMV5B,EANU6B,EAAA,GAMGK,EANHL,EAAA,GAOXgQ,EAAUC,cAEhB,GAAIC,8CAAYC,MAAO,CACrB,IAAMC,EAAKC,iBAAO,IAAIC,UAAU,wBAEhC7N,oBAAU,WACR2N,EAAGG,QAAQC,OAAS,WAClBJ,EAAGG,QAAQE,KAAK,kBAGlBL,EAAGG,QAAQG,UAAY,SAACC,GACtB3M,QAAQC,IAAI0M,EAAMlU,MACC,WAAfkU,EAAMlU,MACRmU,EAAW7J,GAAM,MAIvBtE,oBAAU,kBAAM,kBAAM2N,EAAGG,QAAQM,UAAS,CAACT,IAG7C,IAAMQ,EAAa,SAAC7J,EAAc4F,GAC5BxO,IACF2S,IAASC,uBAAuB5S,GAChC2S,IAASlQ,OAAOgE,EAAA/B,EAAAgC,cAACmM,GAAD,CAAUjK,KAAMA,EAAM4F,SAAUA,IAAcxO,IAGhE0R,EAAQ9I,GACRiJ,EAAQvI,KAAK,SAAWV,IAGpBkK,EAAS,eAAAvO,EAAAnI,OAAAoI,EAAA,EAAApI,CAAAqI,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAmO,EAAAlO,EAAAmO,EAAA,OAAAvO,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACV8N,EADU,GAAAjS,OACDH,EAASC,QADR,yBAAAmE,EAAAE,KAAA,EAEKE,IAAM4N,GAFX,cAEZlO,EAFYE,EAAAM,KAAAN,EAAAE,KAAA,EAGEJ,EAASvG,KAAK0U,MAHhB,OAGZA,EAHYjO,EAAAM,KAKhBuM,EAAYoB,GALI,wBAAAjO,EAAAnF,SAAAgF,MAAH,yBAAAL,EAAAyB,MAAA1J,KAAA2J,YAAA,GAgBf,OARA3B,oBAAU,WACRwO,KACC,IAEHxO,oBAAU,WACRmO,EAAW7J,GAAM,IAChB,CAAC5I,IAGFyG,EAAA/B,EAAAgC,cAAA,WAKED,EAAA/B,EAAAgC,cAAA,WACED,EAAA/B,EAAAgC,cAAA,OACEO,IAAK,SAAAC,GACHhF,EAAegF,OAjG3B,SACE0B,EACA+I,EACAc,GAEA,OAAId,EAAS5T,OAAS,EAElB0I,EAAA/B,EAAAgC,cAACyK,GAAD,KACE1K,EAAA/B,EAAAgC,cAAC2K,GAAD,CACEvK,SAAU,SAAAoH,GACRuE,EAAWvE,EAAEZ,OAAO/F,OAAO,IAE7BA,MAAOqB,GAEN+I,EAASsB,IAAI,SAACrK,EAAMnP,GACnB,OACEgN,EAAA/B,EAAAgC,cAAA,UAAQwM,IAAKzZ,EAAG8N,MAAOqB,GACpBA,OASXnC,EAAA/B,EAAAgC,cAACyK,GAAD,KACE1K,EAAA/B,EAAAgC,cAAC2K,GAAD,CAAQvK,SAAU,SAAAoH,KAAS3G,MAAO,QAChCd,EAAA/B,EAAAgC,cAAA,wBAyEHyM,CAAWvK,EAAM+I,EAAUc,KCrHnBW,oLAZX,OACEC,EAAA,cAACC,EAAA,EAAD,KACED,EAAA,cAACE,EAAA,EAAD,KACEF,EAAA,cAACE,EAAA,EAAD,CAAOC,KAAK,WAAWC,SAAUJ,EAAA,cAACK,GAAD,QACjCL,EAAA,cAACE,EAAA,EAAD,CAAOC,KAAK,YAAYC,SAAUJ,EAAA,cAACM,GAAD,QAClCN,EAAA,cAACE,EAAA,EAAD,CAAUK,KAAK,IAAI1G,GAAG,yBAPZvC,mBCQAkJ,QACW,cAA7B9W,OAAO+W,SAASC,UAEe,UAA7BhX,OAAO+W,SAASC,UAEhBhX,OAAO+W,SAASC,SAAS9V,MAAM,2DCXnC0U,IAASlQ,OAAOgE,EAAA/B,EAAAgC,cAACsN,GAAD,MAAWC,SAASC,eAAe,SD+H7C,kBAAmBC,WACrBA,UAAUC,cAAc9J,MAAM+J,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.03a2a590.chunk.js","sourcesContent":["import ace from 'brace';\n\nace.define('ace/theme/wsc', ['require', 'exports', 'module', 'ace/lib/dom'], function(\n  require,\n  exports,\n  module\n) {\n  exports.isDark = true;\n  exports.cssClass = 'ace-wsc-theme';\n  exports.cssText =\n    // eslint-disable-next-line\n    '.ace-wsc-theme .ace_gutter {\\\nbackground: #1a0005;\\\n}\\\n.ace-wsc-theme {\\\nbackground: #1a0005;\\\ncolor: #929292\\\n  font-color: red\\\n}\\\n.ace-wsc-theme .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #1a1a1a\\\n}\\\n.ace-wsc-theme { background-color: #111102;\\\ncolor: #DEDEDE\\\n}\\\n.ace-wsc-theme .ace_cursor {\\\ncolor: #9F9F9F\\\n}\\\n.ace-wsc-theme .ace_marker-layer .ace_selection {\\\nbackground: #424242\\\n}\\\n.ace-wsc-theme.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px black;\\\n}\\\n.ace-wsc-theme .ace_marker-layer .ace_step {\\\nbackground: rgb(0, 0, 0)\\\n}\\\n.ace-wsc-theme .ace_marker-layer .ace_bracket {\\\nbackground: salmon;\\\n}\\\n.ace-wsc-theme .ace_marker-layer .ace_bracket-start {\\\nbackground: orange;\\\n}\\\n.ace-wsc-theme .ace_marker-layer .ace_bracket-unmatched {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid #900\\\n}\\\n.ace-wsc-theme .ace_marker-layer .ace_active-line {\\\nbackground: #2A2A2A\\\n}\\\n.ace-wsc-theme .ace_gutter-active-line {\\\nbackground-color: #2A112A\\\n}\\\n.ace-wsc-theme .ace_invisible {\\\ncolor: #343434\\\n}\\\n.ace-wsc-theme .ace_operation {\\\ncolor: #ff6168\\\n}\\\n.ace-wsc-theme .ace_danny {\\\ncolor: deeppink\\\n}\\\n.ace-wsc-theme .ace_group_operation {\\\ncolor: steelblue\\\n}\\\n.ace-wsc-theme .ace_group_operation_other {\\\ncolor: #FFD866\\\n}\\\n.ace-wsc-theme .ace_o_shortcut {\\\ncolor: #E78C45\\\n}\\\n.ace-wsc-theme .ace_pipe {\\\ncolor: #D54E53\\\n}\\\n.ace-wsc-theme .ace_bracket {\\\ncolor: #7AA6DA\\\n}\\\n.ace-wsc-theme .ace_curly {\\\ncolor: tomato\\\n}\\\n.ace-wsc-theme .ace_repeat {\\\ncolor: #A9DC76\\\n}\\\n.ace-wsc-theme .ace_comment {\\\ncolor: grey\\\n}\\\n.ace-wsc-theme .ace_number {\\\ncolor: cornsilk\\\n}\\\n.ace-wsc-theme .ace_slash {\\\ncolor: tan\\\n}\\\n.ace-wsc-theme .ace_zero {\\\ncolor: wheat\\\n}\\\n.ace-wsc-theme .ace_zero {\\\ncolor: wheat\\\n}\\\n.ace-wsc-theme .ace_letter {\\\ncolor: #FFCDFF\\\n}\\\n.ace-wsc-theme .ace_string {\\\ncolor: #B9CA4A\\\n}\\\n.error {\\\n  background: lightsalmon;\\\n  opacity: 0.2;\\\n  position:absolute;\\\n  z-index:20;\\\n}\\\n';\n  var dom = require('../lib/dom');\n  dom.importCssString(exports.cssText, exports.cssClass);\n});\n(function() {\n  ace.require(['ace/theme/wsc'], function(m) {\n    if (typeof module == 'object' && typeof exports == 'object' && module) {\n      module.exports = m;\n    }\n  });\n})();\n","import styled from 'styled-components';\n\nexport const Title = styled.h1`\n  font-family: 'Courier New', Courier, monospace;\n  text-align: center;\n  padding-top: 10px;\n  color: #edd;\n  font-size: 1.5em;\n`;\n\nexport const SubTitle = styled.p`\n  font-family: 'Courier New', Courier, monospace;\n  text-align: center;\n  color: #cbb;\n  font-size: 1em;\n`;\n\nexport const StateText = styled.p`\n  font-family: 'Courier New', Courier, monospace;\n  //text-align: center;\n  color: ${props => props.color};\n  font-size: 1em;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n  color: gold;\n`;\n\nexport const Space = styled.div`\n  background-color: #454343;\n  height: 100vh;\n`;\n\nexport const VimBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-right: 10%;\n`;\n\nexport const VimText = styled.label`\n  font-family: 'Courier New', Courier, monospace;\n  text-align: bottom;\n  color: #cbb;\n  font-size: 1em;\n  padding-right: 0.2em;\n`;\n\nexport const CheckBox = styled.input`\n  vertical-align: middle;\n  margin-bottom: 0px;\n`;\n\nexport const ButtonBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin-left: 10%;\n`;\n\nexport const Button = styled.button`\n  font-size: 1em;\n  background-color: #454343;\n  margin-right: 2em;\n  color: #edd;\n  &:visited {\n    outline: none;\n  }\n  &:active {\n    outline: none;\n  }\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const TopBox = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\n","import AceEditor, { IMarker } from 'react-ace';\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport './theme';\nimport {\n  StateText,\n  Space,\n  Title,\n  SubTitle,\n  VimBox,\n  VimText,\n  CheckBox,\n  Button,\n  ButtonBox,\n  TopBox,\n} from './Components';\n\nimport WSCMode from './mode.js';\nimport template from './template';\nimport { playNewAudio, fadeOutSource, displayError } from './utils';\nimport Settings from '../settings';\n\nimport 'ace-builds/src-noconflict/mode-elixir';\nimport 'ace-builds/src-noconflict/theme-github';\nimport 'ace-builds/src-noconflict/keybinding-vim';\n\nconst BACKEND_RENDER_URL = `${Settings.backend}/render`;\nconst customMode = new WSCMode();\n\nconst audioCtx = new AudioContext();\n\nenum State {\n  Cool,\n  Rendering,\n}\n\nfunction Compose() {\n  const [state, setState] = useState<State>(State.Cool);\n  const [save, setSave] = useState<boolean>(false);\n  const [vim, setVim] = useState<boolean>(true);\n  const [renderSpace, setRenderSpace] = useState<AceEditor | null>();\n  const [language, setLanguage] = useState<string>(template);\n\n  const [render, setRender] = useState<boolean>(false);\n\n  const [node, setNode] = useState<number>(0);\n  const [sourceNode1, setSourceNode1] = useState<AudioBufferSourceNode | null>(null);\n  const [sourceNode2, setSourceNode2] = useState<AudioBufferSourceNode | null>(null);\n\n  const [gainNode1, setGainNode1] = useState<GainNode>(new GainNode(audioCtx));\n  const [gainNode2, setGainNode2] = useState<GainNode>(new GainNode(audioCtx));\n  const [markers, setMarkers] = useState<IMarker[]>([]);\n\n  const gainNodes = [gainNode1, gainNode2];\n  const setGainNodes = [setGainNode1, setGainNode2];\n\n  const sources = [sourceNode1, sourceNode2];\n  const setSources = [setSourceNode1, setSourceNode2];\n\n  const getStoredLanguage = () => {\n    const stored = localStorage.getItem('language');\n    if (stored) {\n      setLanguage(stored);\n    }\n  };\n\n  useEffect(() => {\n    const submit = async () => {\n      if (render) {\n        setMarkers([]);\n        setNode((node + 1) % 2);\n\n        const lastSource = sources[(node + 1) % 2];\n        const lastGainNode = gainNodes[(node + 1) % 2];\n        const setSource = setSources[node];\n        const setGainNode = setGainNodes[node];\n\n        fadeOutSource(audioCtx, lastSource, lastGainNode);\n\n        try {\n          setState(State.Rendering);\n          let response = await axios.post(BACKEND_RENDER_URL, { language });\n          if (renderSpace) {\n            switch (response.data.response_type) {\n              case 'RenderSuccess':\n                localStorage.setItem('language', language);\n                playNewAudio(audioCtx, response.data.buffers, setSource, setGainNode);\n                break;\n              case 'RenderError':\n                const error = response.data.error;\n                const n_lines = language.split('\\n').length;\n                displayError(error, n_lines, renderSpace, setMarkers);\n                break;\n              default:\n                console.log('Not sure how we got here...');\n                console.log(response);\n                break;\n            }\n          }\n        } catch (err) {\n          console.log(err);\n        }\n\n        setState(State.Cool);\n        setRender(false);\n      }\n    };\n\n    submit();\n  }, [render]);\n\n  useEffect(() => {\n    if (renderSpace) {\n      renderSpace.editor.getSession().setMode(customMode);\n      renderSpace.editor.setTheme('ace/theme/wsc');\n    }\n  }, [renderSpace]);\n\n  useEffect(() => {\n    getStoredLanguage();\n  }, []);\n\n  useEffect(() => {\n    if (save) {\n      setSave(false);\n    }\n  }, [save]);\n\n  const stopAudio = () => {\n    fadeOutSource(audioCtx, sources[(node + 1) % 2], gainNodes[(node + 1) % 2]);\n  };\n\n  const RenderState = () => {\n    if (state === State.Rendering) {\n      return <StateText>Rendering</StateText>;\n    } else {\n      return <div />;\n    }\n  };\n\n  return (\n    <Space>\n      <Title>WereSoCool</Title>\n      <SubTitle>Make cool sounds. Impress your friends/pets/plants.</SubTitle>\n      <TopBox>\n        <ButtonBox>\n          <Button onClick={() => setRender(true)}>Render</Button>\n          <Button onClick={() => stopAudio()}>Stop</Button>\n          <RenderState />\n        </ButtonBox>\n        <VimBox>\n          <Button onClick={() => setLanguage(template)}>Reset</Button>\n          <VimText>{vim ? 'Vim!' : 'Vim?'}</VimText>\n          <CheckBox\n            name=\"Vim\"\n            type=\"checkbox\"\n            checked={vim ? true : false}\n            onChange={() => setVim(!vim)}\n          />\n        </VimBox>\n      </TopBox>\n      <AceEditor\n        focus={true}\n        ref={el => {\n          setRenderSpace(el);\n        }}\n        placeholder=\"WereSoCool\"\n        mode=\"elixir\"\n        theme=\"github\"\n        name=\"aceEditor\"\n        keyboardHandler={vim ? 'vim' : ''}\n        value={language}\n        onChange={l => setLanguage(l)}\n        markers={markers}\n        fontSize={20}\n        showPrintMargin={true}\n        showGutter={true}\n        highlightActiveLine={true}\n        setOptions={{\n          showLineNumbers: true,\n          tabSize: 2,\n        }}\n        commands={[\n          {\n            name: 'submit',\n            bindKey: { win: 'Shift-Enter', mac: 'Shift-Enter' },\n            exec: () => {\n              setRender(true);\n            },\n          },\n          {\n            name: 'save',\n            bindKey: { win: 'Command-s', mac: 'Command-s' },\n            exec: () => {\n              setSave(true);\n            },\n          },\n        ]}\n        style={{\n          height: '80vh',\n          width: '80vw',\n          marginLeft: '10vw',\n        }}\n      />\n    </Space>\n  );\n}\n\nexport default Compose;\n","import 'ace-builds/src-noconflict/mode-text';\n\nexport class CustomHighlightRules extends window.ace.acequire('ace/mode/text_highlight_rules')\n  .TextHighlightRules {\n  constructor() {\n    super();\n    this.$rules = {\n      start: [\n        {\n          token: 'comment',\n          regex: '--.*$',\n        },\n        {\n          token: 'number',\n          regex: '[1-9]',\n        },\n        {\n          token: 'zero',\n          regex: '[0]',\n        },\n        {\n          token: 'danny',\n          regex: 'f:|l:|g:|p:',\n        },\n        {\n          token: 'slash',\n          regex: '/',\n        },\n        {\n          token: 'keyword',\n          regex: '#',\n        },\n        {\n          token: 'curly',\n          regex: '{|}',\n        },\n        {\n          token: 'bracket',\n          regex: '\\\\[|\\\\]',\n        },\n        {\n          token: 'paren',\n          regex: '\\\\(|\\\\)',\n        },\n        {\n          token: 'pipe',\n          regex: '\\\\|',\n        },\n\n        {\n          token: 'keyword',\n          regex: '>',\n        },\n\n        {\n          token: 'curly',\n          regex: '=',\n        },\n        {\n          token: 'dot',\n          regex: '\\\\.',\n        },\n        {\n          token: 'group_operation_other',\n          regex: 'FitLength|ModulateBy|Reverse',\n        },\n        {\n          token: 'repeat',\n          regex: 'Repeat',\n        },\n        {\n          token: 'group_operation',\n          regex: 'Sequence|Overlay|Seq',\n        },\n\n        {\n          token: 'o_shortcut',\n          regex: 'O',\n        },\n\n        {\n          token: 'operation',\n          regex: 'AsIs|Tm|Ta|PanA|PanM|Gain|Length',\n        },\n        {\n          token: 'letter',\n          regex: '[a-z]',\n        },\n      ],\n    };\n  }\n}\n\nexport default class WSCMode extends window.ace.acequire('ace/mode/text').Mode {\n  constructor() {\n    super();\n    this.HighlightRules = CustomHighlightRules;\n    this.lineCommentStart = '--';\n\n    this.getNextLineIndent = function(state, line, tab) {\n      var indent = this.$getIndent(line);\n\n      var tokenizedLine = this.getTokenizer().getLineTokens(line, state);\n      var tokens = tokenizedLine.tokens;\n\n      if (tokens.length && tokens[tokens.length - 1].type === 'comment') {\n        return indent;\n      }\n\n      if (state === 'start') {\n        var match = line.match(/^.*[{([]\\s*$/);\n        if (match) {\n          indent += tab;\n        }\n      }\n\n      return indent;\n    };\n\n    //this.checkOutdent = function(state, line, input) {\n    //return this.$outdent.checkOutdent(line, input);\n    //};\n\n    //this.autoOutdent = function(state, doc, row) {\n    //this.$outdent.autoOutdent(doc, row);\n    //};\n  }\n}\n","const template = `{ f: 285, l: 1, g: 1, p: 0 }\n\novertones = {\n  O[\n    (1/1, 2, 1, 1),\n    (1/1, 0, 1, -1),\n  ]\n}\n\nthing1 = {\n  Seq [\n    Tm 1, Tm 9/8, Tm 5/4\n  ]\n}\n\nmain = {\n  overtones\n  | thing1\n}\n`;\n\nexport default template;\n\n","import { Dispatch, SetStateAction } from 'react';\nimport { Render, RenderError } from './types';\nimport AceEditor, { IMarker } from 'react-ace';\n\nexport const playNewAudio = (\n  audioCtx: AudioContext,\n  data: Render,\n  setSource: Dispatch<SetStateAction<AudioBufferSourceNode | null>>,\n  setGainNode: Dispatch<SetStateAction<GainNode>>\n) => {\n  const l_buffer = new Float32Array(data.l_buffer);\n  const r_buffer = new Float32Array(data.r_buffer);\n\n  const s = audioCtx.createBufferSource();\n  const buffer = audioCtx.createBuffer(2, l_buffer.length, audioCtx.sampleRate);\n  buffer.copyToChannel(l_buffer, 0);\n  buffer.copyToChannel(r_buffer, 1);\n\n  const g = new GainNode(audioCtx);\n  g.connect(audioCtx.destination);\n  s.buffer = buffer;\n  s.connect(g);\n  s.start();\n  setSource(s);\n  setGainNode(g);\n};\n\nexport const fadeOutSource = (\n  audioCtx: AudioContext,\n  source: AudioBufferSourceNode | null,\n  gainNode: GainNode\n) => {\n  if (source) {\n    gainNode.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.05);\n    source.stop(audioCtx.currentTime + 0.05);\n  }\n};\n\nexport const displayError = (\n  error: RenderError,\n  n_lines: number,\n  renderSpace: AceEditor,\n  setMarkers: Dispatch<SetStateAction<IMarker[]>>\n) => {\n  setMarkers([makeMarker(error.line, error.column, n_lines)]);\n  renderSpace.editor.gotoLine(error.line, error.column);\n};\n\nexport const makeMarker = (line: number, column: number, n_lines: number): IMarker => {\n  line -= 1;\n  return {\n    startRow: line,\n    startCol: column,\n    endRow: n_lines,\n    endCol: 0,\n    type: 'text',\n    className: 'error',\n  };\n};\n","const BACKEND = process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:4599/api';\n\nconst Settings = {\n  backend: BACKEND,\n};\n\nexport default Settings;\n","import axios from 'axios';\nimport Settings from './settings';\n\nexport interface JsonData {\n  ops: Point[];\n  length: number;\n}\n\nexport interface Point {\n  l: number;\n  t: number;\n  x: number;\n  y: number;\n  z: number;\n  event_type: string;\n  voice: number;\n}\n\nexport default class Data {\n  public events!: Point[];\n  public length!: number;\n  public n: number;\n  constructor() {\n    this.n = 0;\n  }\n\n  public readJson = async (song: string): Promise<JsonData> => {\n    const jsonPath = `${Settings.backend}/songs/${song}.socool.json`;\n    try {\n      const response = await axios.get(jsonPath);\n      return response.data;\n    } catch (err) {\n      return { ops: [], length: 0 };\n    }\n  };\n\n  public async getData(song: string) {\n    const jsonData = await this.readJson(song);\n    this.events = jsonData.ops;\n    this.length = jsonData.length;\n  }\n\n  public getPoints = (currentTime: number) => {\n    let go = true;\n    const points = [];\n    while (go) {\n      const point = this.events[this.n];\n      if (point && point.t < currentTime) {\n        points.push(point);\n        this.n += 1;\n      } else {\n        go = false;\n      }\n    }\n    return points;\n  };\n}\n","import Settings from './settings';\n\nexport default class Sound {\n  private audio!: HTMLAudioElement;\n  constructor(song: string) {\n    const audioPath = `${Settings.backend}/songs/${song}.mp3?${Math.random()}`;\n    this.audio = new Audio(audioPath);\n  }\n\n  public fadeOut = () => {\n    if (this.audio.volume > 0.01) {\n      this.audio.volume -= 0.01;\n      setTimeout(this.fadeOut, 1);\n    } else {\n      this.audio.pause();\n    }\n  };\n  public play = () => {\n    this.audio.play();\n  };\n\n  public pause = () => {\n    this.audio.pause();\n  };\n\n  public canPlay = () => {\n    return this.audio.duration;\n  };\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface Props {\n  play: boolean;\n  ready: boolean;\n  startAnimation: () => void;\n}\n\nexport default class Start extends React.Component<Props, {}> {\n  constructor(props: Props) {\n    super(props);\n  }\n\n  public renderStartButton() {\n    if (this.props.play && this.props.ready) {\n      return;\n    } else if (this.props.ready) {\n      return (\n        <PlayButton onClick={this.props.startAnimation} color={'salmon'}>\n          <PlayText>Play</PlayText>\n        </PlayButton>\n      );\n    } else {\n      return (\n        <PlayButton color={'blue'}>\n          <PlayText>Wait.</PlayText>\n        </PlayButton>\n      );\n    }\n  }\n\n  public render() {\n    return <div>{this.renderStartButton()}</div>;\n  }\n}\n\nconst PlayText = styled.p`\n  padding-left: 1em;\n  padding-right: 1em;\n  color: white;\n  font-size: 1.25em;\n`;\n\nconst PlayButton = styled.div`\n  position: absolute;\n  background-color: ${props => props.color};\n  top: 40px;\n  right: 10px;\n`;\n","import * as TWEEN from '@tweenjs/tween.js';\nimport React from 'react';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport Data, { Point } from './Data';\nimport { fragmentShader, vertexShader } from './Shaders';\nimport Sound from './Sound';\nimport Start from './Start';\nconst Controls = require('three-orbit-controls')(THREE);\n\ninterface State {\n  ready: boolean;\n  play: boolean;\n}\n\ninterface Props {\n  song: string;\n  autoplay: boolean;\n}\n\nconst timeMul = 150;\nconst lengthMul = 50;\nconst timeOffset = 1100;\n\nexport default class Renderer extends React.Component<Props, State> {\n  private static calculateXPos(x: number): number {\n    return -(x * window.innerWidth);\n  }\n\n  private static calculateYPos(y: number): number {\n    return y * 2 * window.innerHeight - window.innerHeight;\n  }\n\n  private static calculateZPos(t: number, l: number): number {\n    return t * timeMul - timeOffset + l * lengthMul;\n  }\n  private scene!: THREE.Scene;\n  private camera!: THREE.PerspectiveCamera;\n  private renderer!: THREE.WebGLRenderer;\n  private geometry: any;\n  private container: Element | null;\n  private controls!: OrbitControls;\n  private t: number;\n  private id: number | null;\n  private data!: Data;\n  private audio: Sound | null;\n  constructor(props: Props) {\n    super(props);\n    this.t = 0.0;\n    this.container = null;\n    this.id = null;\n    this.audio = null;\n\n    this.state = {\n      play: false,\n      ready: false,\n    }!;\n  }\n\n  public render() {\n    return (\n      <div>\n        <Start\n          ready={this.state.ready}\n          play={this.state.play}\n          startAnimation={this.startAnimation}\n        />\n        <div\n          ref={el => {\n            this.container = el;\n          }}\n        />\n      </div>\n    );\n  }\n\n  public startAnimation = async () => {\n    try {\n      this.t = Date.now();\n      if (this.audio) {\n        await this.audio.play();\n      }\n      this.animate();\n      const last = this.data.events[this.data.events.length - 1];\n      this.tweenCamera(this.camera, this.controls, last.t, last.l);\n      this.setState({\n        ...this.state,\n        play: true,\n      });\n    } catch (err) {}\n  };\n\n  public async componentDidMount() {\n    this.setUpThreeJS();\n    this.setState({\n      ...this.state,\n      ready: true,\n    });\n    window.addEventListener('resize', this.updateDimensions.bind(this));\n    window.addEventListener('keydown', async e => {\n      if (this.state.ready && !this.state.play && e.code === 'Space') {\n        e.preventDefault();\n        await this.startAnimation();\n      }\n    });\n    await this.getData(this.props.song);\n    if (this.props.autoplay === true) {\n      this.startAnimation();\n    }\n  }\n\n  public async componentWillUnmount() {\n    if (this.audio) {\n      this.audio.fadeOut();\n    }\n    if (this.id) {\n      window.cancelAnimationFrame(this.id);\n    }\n\n    window.removeEventListener('resize', this.updateDimensions.bind(this));\n    window.removeEventListener('keydown', async e => {\n      if (this.state.ready && !this.state.play && e.code === 'Space') {\n        e.preventDefault();\n        await this.startAnimation();\n      }\n    });\n  }\n\n  public componentDidUpdate() {\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n\n    this.renderer.setSize(width, height, true);\n  }\n\n  public setupScene() {\n    this.scene.background = new THREE.Color(0x404040);\n  }\n\n  public setUpThreeJS() {\n    this.scene = new THREE.Scene();\n    this.setupScene();\n    this.renderer = new THREE.WebGLRenderer();\n    this.camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 30000);\n    this.controls = new Controls(this.camera, this.container);\n\n    this.camera.lookAt(this.scene.position);\n    this.camera.position.set(0, 0, 0);\n    this.controls.update();\n\n    this.geometry = new THREE.BoxBufferGeometry(20, 20, 20);\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.renderer.render(this.scene, this.camera);\n    if (this.container) {\n      this.container.appendChild(this.renderer.domElement);\n    }\n  }\n\n  public animate() {\n    if (this.data.n < this.data.events.length) {\n      this.renderPoints();\n    }\n\n    this.render();\n    this.controls.update();\n\n    this.renderer.render(this.scene, this.camera);\n    this.id = requestAnimationFrame(this.animate.bind(this));\n    TWEEN.update();\n  }\n\n  public updateDimensions() {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight, true);\n  }\n\n  public async getData(song: string) {\n    this.audio = new Sound(song);\n    this.data = new Data();\n    await this.data.getData(song);\n  }\n\n  public renderPoints = () => {\n    const currentTime = (Date.now() - this.t) / 1000;\n    const points = this.data.getPoints(currentTime);\n    for (const point of points) {\n      if (this.data.events.length > 0) {\n        let object;\n        object = this.createObject(point);\n        this.scene.add(object);\n      }\n    }\n  };\n\n  public createObject(point: Point): THREE.Mesh {\n    const ta = 3.0;\n    const uniforms = {\n      colorA: { type: 'vec3', value: new THREE.Color((point.voice / 50) * 0xffffff) },\n      colorB: { type: 'vec3', value: new THREE.Color((point.voice / 50) * 0xffffee) },\n      ta: { type: 'f', value: ta },\n    };\n\n    const material = new THREE.ShaderMaterial({\n      fragmentShader: fragmentShader(),\n      uniforms,\n      vertexShader: vertexShader(),\n    });\n    // const material = new THREE.MeshLambertMaterial({ color: (point.voice / 50) * 0xffffff });\n    const object = new THREE.Mesh(this.geometry, material);\n\n    const time = point.t * timeMul - timeOffset + point.l * lengthMul;\n    const scale = Math.exp(point.z);\n    object.position.x = Renderer.calculateXPos(point.x);\n    object.position.y = Renderer.calculateYPos(point.y);\n    object.position.z = Renderer.calculateZPos(point.t, point.l);\n\n    object.scale.x = 0.00001;\n    object.scale.y = 0.00001;\n    object.scale.z = 0.00001;\n    this.tweenObject(object, point.l, time, scale);\n    return object;\n  }\n\n  public tweenObject(o: THREE.Mesh, l: number, t: number, scale: number) {\n    new TWEEN.Tween({\n      position: l * lengthMul,\n      scale: 1.5,\n      scale_z: 0,\n    })\n      .to(\n        {\n          position: 0,\n          scale: 1,\n          scale_z: l * 7,\n        },\n        l * 1000\n      )\n      .easing(TWEEN.Easing.Sinusoidal.Out)\n      .onUpdate(function(this: any) {\n        o.scale.x = scale * this._object.scale;\n        o.scale.y = scale * this._object.scale;\n        o.scale.z = this._object.scale_z;\n        o.position.z = t - this._object.position + l * 2;\n      })\n      .start();\n  }\n\n  public tweenCamera = (camera: THREE.PerspectiveCamera, controls: any, t: number, l: number) => {\n    new TWEEN.Tween({\n      position: 0,\n    })\n      .to(\n        {\n          position: this.data.length * timeMul,\n        },\n        this.data.length * 1000\n      )\n      .onUpdate(function(this: any) {\n        camera.position.z = this._object.position + timeOffset;\n        controls.target.z = this._object.position;\n      })\n      .start();\n  };\n}\n","export function fragmentShader() {\n  return `\n      uniform vec3 colorA; \n      uniform vec3 colorB; \n      // varying vec3 vUv;\n      uniform float time;\n      \n      void main() {\n          vec3 p = mod(\n            gl_FragCoord.xyz, 100.0\n          ); \n          float r = fract(\n            sin(\n              dot(\n                p.xyz ,\n                vec3(12.9898,78.233, 24.3421)\n              )\n            ) * 43758.5453\n          );\n          gl_FragColor = vec4(\n            sin(colorA.r + r), \n            sin(colorA.g + r) - 0.05, \n            // sin(colorA.g + r) - 0.25, \n            sin(colorA.b + r), 0.03\n          );\n      }\n  `;\n}\n\nexport function vertexShader() {\n  return `\n    // varying vec3 vUv; \n    uniform float time;\n\n    void main() {\n      // vUv = position; \n\n      vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0) * vec4(1.0, 1.0 + sin(time * position.y), 1.0, 1.0);\n      gl_Position = projectionMatrix * modelViewPosition; \n    }\n  `;\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useParams, useHistory } from 'react-router-dom';\nimport Renderer from './Renderer';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport Data, { Point, JsonData } from './Data';\nimport Sound from './Sound';\nimport Settings from './settings';\n\nconsole.log(Settings.backend);\n\nconst Title = styled.h1`\n  color: #454;\n  font-size: 1.5em;\n`;\n\nconst TitleWrapper = styled.div`\n  position: absolute;\n  width: 100%;\n  text-align: center;\n`;\n\nconst SongSelectDropDown = styled.div`\n  margin-right: 10px;\n  position: absolute;\n  right: 0;\n  top: 10px;\n`;\n\nconst Select = styled.select`\n  height: 1.5em;\n  font-size: 1.1em;\n`;\n\nfunction songSelect(\n  song: string,\n  songList: string[],\n  updateSong: (song: string, autoplay: boolean) => void\n) {\n  if (songList.length > 0) {\n    return (\n      <SongSelectDropDown>\n        <Select\n          onChange={e => {\n            updateSong(e.target.value, true);\n          }}\n          value={song}\n        >\n          {songList.map((song, n) => {\n            return (\n              <option key={n} value={song}>\n                {song}\n              </option>\n            );\n          })}\n        </Select>\n      </SongSelectDropDown>\n    );\n  } else {\n    return (\n      <SongSelectDropDown>\n        <Select onChange={e => {}} value={'none'}>\n          <option>None</option>\n        </Select>\n      </SongSelectDropDown>\n    );\n  }\n}\n\nconst Play = () => {\n  let { id } = useParams();\n  if (!id) id = '';\n\n  const [song, setSong] = useState<string>(id);\n  const [songList, setSongList] = useState([]);\n  const [renderSpace, setRenderSpace] = useState<HTMLDivElement | null>();\n  const history = useHistory();\n\n  if (process.env.LOCAL) {\n    const ws = useRef(new WebSocket('ws://127.0.0.1:3012'));\n\n    useEffect(() => {\n      ws.current.onopen = () => {\n        ws.current.send('WereSoVisible');\n      };\n\n      ws.current.onmessage = (event: MessageEvent) => {\n        console.log(event.data);\n        if (event.data === 'update') {\n          updateSong(song, true);\n        }\n      };\n    });\n    useEffect(() => () => ws.current.close(), [ws]);\n  }\n\n  const updateSong = (song: string, autoplay: boolean) => {\n    if (renderSpace) {\n      ReactDOM.unmountComponentAtNode(renderSpace);\n      ReactDOM.render(<Renderer song={song} autoplay={autoplay} />, renderSpace);\n    }\n\n    setSong(song);\n    history.push('/play/' + song);\n  };\n\n  const fetchData = async () => {\n    const url = `${Settings.backend}/songs/song_list.json`;\n    let response = await axios(url);\n    let songs = await response.data.songs;\n\n    setSongList(songs);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    updateSong(song, false);\n  }, [renderSpace]);\n\n  return (\n    <div>\n      {/*<TitleWrapper>*/}\n      {/*<Title>{song}</Title>*/}\n      {/*</TitleWrapper>*/}\n\n      <div>\n        <div\n          ref={el => {\n            setRenderSpace(el);\n          }}\n        />\n      </div>\n      {songSelect(song, songList, updateSong)}\n    </div>\n  );\n};\n\nexport default Play;\n","import * as React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Compose from './composer/Compose';\nimport Play from './Play';\n\nclass Paths extends React.Component {\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route path=\"/compose\" children={<Compose />} />\n          <Route path=\"/play/:id\" children={<Play />} />\n          <Redirect from=\"/\" to=\"/play/table\" />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default Paths;\n","/* tslint:disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './App';\nimport Paths from './Paths';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Paths />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}