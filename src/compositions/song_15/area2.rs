pub mod material2 {
    use operations::{Op};

    fn overtones() -> Op {
        r![
            (4, 1, 0.0, 0.04, -0.2),
            (3, 1, 7.0, 0.04, 0.2),
            (9, 4, 5.0, 0.05, 1.0),
            (9, 4, 0.0, 0.05, 1.0),
            (5, 2, 4.0, 0.25, -1.0),
            (5, 2, 0.0, 0.25, -1.0),
            (7, 4, 3.0, 0.05, 0.7),
            (7, 4, 0.0, 0.05, 0.7),
            (3, 2, 4.0, 0.25, -0.7),
            (3, 2, 0.0, 0.25, -0.7),
            (2, 1, 0.0, 0.75, 0.4),
            (2, 1, 0.0, 0.75, 0.4),
        ]
    }

    fn melody() -> Op {
        Op::Compose { operations: vec![
            Op::Sequence { operations: vec![
                Op::Compose {operations: vec![
                    Op::Sequence { operations: vec![
                        r![
                            (1, 1, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (9, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (6, 5, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (3, 2, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (2, 1, 0.0, 0.75, 0.0),
                        ],
                    ]},
                    Op::Gain {m: 2.2}
                ]},
                Op::Compose { operations: vec![
                    Op::Sequence { operations: vec![
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (15, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (5, 3, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (8, 5, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (4, 3, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (25, 24, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (4, 5, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (3, 4, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (2, 3, 0.0, 0.5, 0.0),
                            (2, 3, 0.0, 0.5, 0.0),
                        ],
                    ]},
                    Op::Length { m: 0.6 },
                    Op::Gain {m: 2.2},
                ]},
                Op::Compose { operations: vec![
                    Op::Sequence { operations: vec![
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (6, 5, 0.0, 0.75, 0.0),
                            (5, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (25, 24, 0.0, 0.75, 0.0),
                            (9, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (4, 3, 0.0, 0.75, 0.0),
                            (11, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (5, 4, 0.0, 0.75, 0.0),
                            (11, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (0, 1, 0.0, 0.0, 0.0),
                            (5, 4, 0.0, 0.75, 0.0),
                            (9, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (6, 5, 0.0, 0.37, 0.0),
                            (6, 5, 0.0, 0.37, 0.0),
                            (3, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.55, 0.0),
                            (15, 16, 0.0, 0.55, 0.0),
                            (3, 8, 0.0, 0.55, 0.0),
                        ],
                        r![
                            (4, 3, 11.0, 0.55, -0.6),
                            (15, 16, 0.0, 0.55, 0.6),
                            (3, 8, 0.0, 0.55, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.55, 0.6),
                            (15, 16, 0.0, 0.55, -0.6),
                            (3, 8, 0.0, 0.55, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.65, 0.3),
                            (15, 16, 0.0, 0.65, -0.3),
                            (3, 8, 0.0, 0.65, -0.4),
                        ],
                        r![
                            (4, 3, 0.0, 0.65, 0.3),
                            (15, 16, 0.0, 0.65, -0.3),
                            (3, 8, 0.0, 0.65, 0.2),
                        ],
                        r![
                            (8, 5, 0.0, 0.55, -1.0),
                            (1, 1, 0.0, 0.55, 1.0),
                            (7, 16, -5.0, 0.55, 0.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.65, -0.5),
                            (1, 1, 7.0, 0.65, 0.5),
                            (7, 16, -8.0, 0.65, 0.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.75, -0.5),
                            (1, 1, 0.0, 0.75, -0.5),
                            (7, 16, -9.0, 0.75, 1.0),
                        ],
                        r![
                            (8, 5, -10.0, 0.55, -0.5),
                            (1, 1, -10.0, 0.55, -0.5),
                            (7, 16, -10.0, 0.25, 1.0),
                            (7, 16, -10.0, 0.25, -1.0),
                        ],
                        r![
                            (9, 5, -5.0, 0.55, -1.0),
                            (5, 4, -10.0, 0.55, 1.0),
                            (7, 16, -23.0, 0.35, 1.0),
                            (7, 16, -25.0, 0.35, -1.0),
                        ],
                        r![
                            (15, 8, 5.0, 0.55, -1.0),
                            (11, 8, 10.0, 0.55, 1.0),
                            (7, 16, -25.0, 0.45, -1.0),
                            (7, 16, -28.0, 0.45, 1.0),
                        ],
                        r![
                            (2, 1,  5.0, 0.55, 1.0),
                            (8, 5,  0.0, 0.55, -1.0),
                            (7, 16, -25.0, 0.55, -1.0),
                            (7, 16, -28.0, 0.55, 1.0),
                        ],
                        r![
                            (15, 8,  5.0, 0.55, 1.0),
                            (7, 4,  0.0, 0.55, -1.0),
                            (7, 16, -25.0, 0.55, -1.0),
                            (7, 16, -28.0, 0.55, 1.0),
                        ],
                        r![
                            (25, 12, -12.0, 0.55, -1.0),
                            (25, 12, -10.0, 0.55, 1.0),
                            (5, 16, -16.0, 0.55, -1.0),
                            (5, 16, -20.0, 0.55, 1.0),
                        ],
                        r![
                            (25, 12, -6.0, 0.55, 1.0),
                            (25, 12, 0.0, 0.55, -1.0),
                            (5, 16, -19.0, 0.55, 1.0),
                            (5, 16, -24.0, 0.55, -1.0),
                        ],
                        r![
                            (25, 12, -9.0, 0.55, -1.0),
                            (25, 12, 4.0, 0.55, 1.0),
                            (5, 16, -21.0, 0.55, 1.0),
                            (5, 16, -27.0, 0.55, -1.0),
                        ],
                        r![
                            (25, 12, -5.0, 0.55, -1.0),
                            (25, 12, 8.0, 0.55, 1.0),
                            (5, 16, -25.0, 0.55, 1.0),
                            (5, 16, -29.0, 0.55, -1.0),
                        ],
                        r![
                            (25, 12, -5.0, 0.55, -1.0),
                            (25, 12, 8.0, 0.55, 1.0),
                            (5, 16, -27.0, 0.55, 1.0),
                            (5, 16, -29.0, 0.45, -1.0),
                        ],
                        r![
                            (25, 12, -5.0, 0.55, 1.0),
                            (25, 12, 8.0, 0.55, -1.0),
                            (5, 16, -27.0, 0.55, -1.0),
                            (5, 16, -29.0, 0.55, 1.0),
                        ],
                        r![
                            (25, 12, -2.0, 0.55, -1.0),
                            (25, 12, 12.0, 0.55, 1.0),
                            (5, 16, -30.0, 0.55, -1.0),
                            (5, 16, -32.0, 0.55, 1.0),
                        ],
                        r![
                            (25, 12, 13.0, 0.45, -0.7),
                            (25, 12, 18.0, 0.45, -0.7),
                            (5, 16, -38.0, 0.45, -0.7),
                            (5, 16, -42.0, 0.45, -0.7),
                        ],
                        r![
                            (25, 12, 13.0, 0.3, 0.7),
                            (25, 12, 18.0, 0.3, 0.7),
                            (5, 16, -38.0, 0.4, 0.7),
                            (5, 16, -42.0, 0.4, 0.7),
                        ],
                        r![
                            (25, 12, 13.0, 0.2, -1.0),
                            (25, 12, 18.0, 0.2, -1.0),
                            (5, 16, -38.0, 0.3, -1.0),
                            (5, 16, -42.0, 0.3, -1.0),
                        ],
                        r![
                            (25, 12, 13.0, 0.1, -1.0),
                            (25, 12, 18.0, 0.1, -1.0),
                            (5, 16, -38.0, 0.2, -1.0),
                            (5, 16, -42.0, 0.2, -1.0),
                        ],
                        r![
                            (25, 12, 13.0, 0.1, -1.0),
                            (25, 12, 18.0, 0.1, -1.0),
                            (5, 16, -38.0, 0.2, -1.0),
                            (5, 16, -42.0, 0.2, -1.0),
                        ],
                        r![
                            (25, 12, 10.0, 0.07, 1.0),
                            (25, 12, 15.0, 0.07, 1.0),
                            (5, 16, -38.0, 0.1, 0.0),
                            (5, 16, -42.0, 0.1, 0.0),
                        ],
                    ]},
                    Op::Length {m: 4.2},
                ]}
            ]},
            Op::Length { m: 0.2 },
            Op::Gain {m: 0.4},
        ],
        }
    }

    pub fn sequence4() -> Op {
        Op::Compose { operations: vec![
            overtones(),
            Op::Sequence {
                operations: vec![
                    Op::AsIs,
                    Op::Compose { operations: vec![
                        Op::Sequence { operations: vec![
                            Op::TransposeM { m: 3.0/2.0 },
                            Op::TransposeM { m: 8.0/5.0 },
                            Op::TransposeM { m: 3.0/2.0 },
                        ]},
                        Op::Gain {m: 0.5},
                        Op::Length { m: 0.333333 }
                    ]},
                    Op::Compose { operations: vec![
                        Op::AsIs,
                        Op::Gain {m: 1.05}
                    ]},
                    melody(),
                ],
            },
            Op::TransposeM {m: 3.0/2.0}
        ]}
    }
}




