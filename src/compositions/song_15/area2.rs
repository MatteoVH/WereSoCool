pub mod material2 {
    use operations::{Op};

    fn overtones() -> Op {
        r![
            (4, 1, 0.0, 0.04, -0.2),
            (3, 1, 7.0, 0.04, 0.2),
            (9, 4, 5.0, 0.05, 1.0),
            (9, 4, 0.0, 0.05, 1.0),
            (5, 2, 4.0, 0.25, -1.0),
            (5, 2, 0.0, 0.25, -1.0),
            (7, 4, 3.0, 0.05, 0.7),
            (7, 4, 0.0, 0.05, 0.7),
            (3, 2, 4.0, 0.25, -0.7),
            (3, 2, 0.0, 0.25, -0.7),
            (2, 1, 0.0, 0.75, 0.4),
            (2, 1, 0.0, 0.75, 0.4),
        ]
    }

    fn melody() -> Op {
        Op::Compose { operations: vec![
            Op::Sequence { operations: vec![
                r![
                    (1, 1, 0.0, 0.75, 0.0),
                ],
                r![
                    (9, 8, 0.0, 0.75, 0.0),
                ],
                r![
                    (6, 5, 0.0, 0.75, 0.0),
                ],
                r![
                    (4, 3, 0.0, 0.75, 0.0),
                ],
                r![
                    (3, 2, 0.0, 0.75, 0.0),
                ],
                r![
                    (2, 1, 0.0, 0.75, 0.0),
                ],
                Op::Compose { operations: vec![
                    Op::Sequence { operations: vec![
                        r![
                            (15, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (5, 3, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (25, 24, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 5, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (3, 4, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (2, 3, 0.0, 0.75, 0.0),
                        ],

                    ]},
                    Op::Length { m: 0.6 }
                ]},
                Op::Compose { operations: vec![
                    Op::Sequence { operations: vec![
                        r![
                            (6, 5, 0.0, 0.75, 0.0),
                            (5, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (25, 24, 0.0, 0.75, 0.0),
                            (9, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.75, 0.0),
                            (11, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (5, 4, 0.0, 0.75, 0.0),
                            (11, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (5, 4, 0.0, 0.75, 0.0),
                            (9, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (6, 5, 0.0, 0.75, 0.0),
                            (3, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (9, 8, 0.0, 0.75, 0.0),
                            (3, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.75, 0.0),
                            (15, 16, 0.0, 0.75, 0.0),
                            (3, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.75, -0.6),
                            (15, 16, 0.0, 0.75, 0.6),
                            (3, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (4, 3, 0.0, 0.75, 0.6),
                            (15, 16, 0.0, 0.75, -0.6),
                            (3, 8, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.75, -1.0),
                            (1, 1, 0.0, 0.75, 1.0),
                            (7, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.75, -1.0),
                            (1, 1, 0.0, 0.75, 1.0),
                            (7, 16, 0.0, 0.75, 0.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.75, -0.5),
                            (1, 1, 0.0, 0.75, -0.5),
                            (7, 16, 0.0, 0.75, 1.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.75, -0.5),
                            (1, 1, 0.0, 0.75, -0.5),
                            (7, 16, 0.0, 0.75, 1.0),
                            (7, 16, 0.0, 0.75, -1.0),
                        ],
                        r![
                            (8, 5, 0.0, 0.75, -0.5),
                            (1, 1, 0.0, 0.75, -0.5),
                            (7, 16, 0.0, 0.75, 1.0),
                            (7, 16, 0.0, 0.75, 1.0),
                        ],
                    ]},
                    Op::Length {m: 4.0}
                ]}
            ]},
            Op::Length { m: 0.25 }
        ]}
    }

    pub fn sequence4() -> Op {
        Op::Compose { operations: vec![
            overtones(),
            Op::Sequence {
                operations: vec![
                    Op::AsIs,
                    Op::Compose { operations: vec![
                        Op::Sequence { operations: vec![
                            Op::TransposeM { m: 3.0/2.0 },
                            Op::TransposeM { m: 8.0/5.0 },
                            Op::TransposeM { m: 3.0/2.0 },
                        ]},
                        Op::Gain {m: 0.5},
                        Op::Length { m: 0.333333 }
                    ]},
                    Op::Compose { operations: vec![
                        Op::AsIs,
                        Op::Gain {m: 1.05}
                    ]},
                    melody()
                ],
            },
            Op::TransposeM {m: 3.0/2.0}
        ]}
    }
}




